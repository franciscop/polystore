var c={},g=/(-?(?:\d+\.?\d*|\d*\.?\d+)(?:e[-+]?\d+)?)\s*([\p{L}]*)/iu;t.millisecond=t.ms=1;t.second=t.sec=t.s=t[""]=t.ms*1e3;t.minute=t.min=t.m=t.s*60;t.hour=t.hr=t.h=t.m*60;t.day=t.d=t.h*24;t.week=t.wk=t.w=t.d*7;t.year=t.yr=t.y=t.d*365.25;t.month=t.b=t.y/12;function t(e){if(e==null)return null;if(typeof e=="number")return e;e=e.toLowerCase().replace(/[,_]/g,"");let[o,y,i]=g.exec(e)||[];if(!i)return null;let l=t[i]||t[i.replace(/s$/,"")];if(!l)return null;let d=l*parseFloat(y,10);return Math.abs(Math.round(d))}c.expire=e=>{let o=async n=>{if(!await e.has(n))return null;let{data:a,expire:r}=await e.get(n);return r===null?a:r-new Date().getTime()<=0?null:a},y=async(n,a,{expire:r=null}={})=>{let u=t(r),f=u!==null?new Date().getTime()+u:null;return e.set(n,{expire:f,data:a})},i=async n=>await e.get(n)!==null,l=e.del,d=e.keys,s=e.clear;return{get:o,set:y,has:i,del:l,keys:d,clear:s}};c.memory=e=>({get:async n=>e.get(n)||null,set:async(n,a)=>e.set(n,a),has:async n=>e.has(n),del:async n=>e.delete(n),keys:async(n="")=>[...await e.keys()].filter(a=>a.startsWith(n)),clear:()=>e.clear()});c.localStorage=e=>({get:async n=>e[n]?JSON.parse(e[n]):null,set:async(n,a)=>e.setItem(n,JSON.stringify(a)),has:async n=>n in e,del:async n=>e.removeItem(n),keys:async(n="")=>Object.keys(e).filter(a=>a.startsWith(n)),clear:()=>e.clear()});c.cookie=()=>{let e=async s=>{let n=document.cookie.split("; ").filter(Boolean).find(a=>a.startsWith(s+"="))?.split("=")[1]||null;return JSON.parse(decodeURIComponent(n))},o=async(s,n,{expire:a=null}={})=>{let r=t(a),u=new Date().getTime(),f=r!==null?`; expires=${new Date(u+r).toUTCString()}`:"",m=encodeURIComponent(JSON.stringify(n));document.cookie=s+"="+m+f},y=async s=>(await l()).includes(s),i=async s=>o(s,"",{expire:-100}),l=async(s="")=>document.cookie.split(";").map(n=>n.split("=")[0].trim()).filter(Boolean).filter(n=>n.startsWith(s));return{get:e,set:o,has:y,del:i,keys:l,clear:async()=>{await Promise.all((await l()).map(i))}}};c.redis=e=>{let o=async a=>{let u=await(await e).get(a);return u?JSON.parse(u):null},y=async(a,r,{expire:u=null}={})=>{if(r===null||u===0)return l(a);let f=await e,m=t(u),p=m?Math.round(m/1e3):void 0;return f.set(a,JSON.stringify(r),{EX:p})},i=async a=>!!await(await e).exists(a),l=async a=>(await e).del(a);return{get:o,set:y,has:i,del:l,keys:async(a="")=>(await e).keys(a+"*"),clear:async()=>(await e).flushAll(),close:async()=>(await e).quit()}};c.localForage=e=>{let o=n=>e.getItem(n);return{get:o,set:(n,a)=>e.setItem(n,a),has:async n=>await o(n)!==null,del:n=>e.removeItem(n),keys:async(n="")=>(await e.keys()).filter(a=>a.startsWith(n)),clear:()=>e.clear()}};function w(e){return!e||e instanceof Map?c.expire(c.memory(e||new Map)):typeof localStorage<"u"&&e===localStorage||typeof sessionStorage<"u"&&e===sessionStorage?c.expire(c.localStorage(e)):e==="cookie"?c.cookie():e.defineDriver&&e.dropInstance&&e.INDEXEDDB?c.expire(c.localForage(e)):c.redis(e)}export{w as default};
//# sourceMappingURL=index.min.js.map
